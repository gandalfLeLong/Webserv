# Nginx Configuration Example

# Main Server Block
server {
    host 127.0.0.1;
    listen 8080;
    server_name webserv.com;

    # Error Pages
    error_page 400 /Errors/400.html;
    error_page 403 /Errors/403.html;
    error_page 404 /Errors/404.html;
    error_page 405 /Errors/405.html;
    error_page 411 /Errors/411.html;
    error_page 505 /Errors/505.html;

    # Client Body Size Limit
    client_max_body_size 500000000;

    # Root Configuration
    root HTMLFiles;

    # Routes

    location /
    {
        index home.html;
        allow_methods GET;
    }

    location /home
    {
        index home.html
    }

    location /redirect 
    {         
        return 301 /home;
    }

    location /delete 
    {
        root documents;
        allow_methods GET DELETE;
        autoindex on;
    }

    location /upload
    {
        root documents;
        allow_methods POST GET;
        autoindex on;
    }

    location /dirList 
    {
        root documents;
        autoindex on;
        allow_methods GET DELETE;
    }

    location /cgi 
    {
        root cgi;
        index cgi.html;
        allow_methods GET POST;
    }
}